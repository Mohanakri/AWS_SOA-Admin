1.Amazon Cloutwatch Overview

2.Metrics,Namespaces & Dimensions

3.Create a Custom Metric and Alarm:Hands_ON

4.The Unified CloudWatch Agent

5.Deploy CloudWatch Agent:Hands_ON

6.Amazon CloudWatch Logs

7.CloudWatch Logs & Filters

8.CloudWatch Dashboards

9.Amazon SNS

10.Configure Notification:Hands_ON

11.AWS CloudTrail

12.Create a CloudTrail:Hands_ON

13.Amazon EventBridge

14.Create Event Bus & Rule:Hands_ON

15.AWS Config

16.AWS System Manager

17.SSM Automation & Config Rule

18.AWS Health API & DashBoards

















============================================================================================
# 1.Amazon Cloutwatch Overview

### Summary: Amazon CloudWatch Overview

Amazon CloudWatch is a performance monitoring service designed to monitor AWS resources and on-premises systems. It provides alarms, log collection, and automated actions, helping to improve operational performance and resource optimization.

#### Core Features of CloudWatch:

1. **CloudWatch Metrics**:
   - AWS services send time-ordered data points to CloudWatch.
   - EC2 instances send metrics every five minutes by default (standard monitoring) and every one minute with detailed monitoring (for a small fee).
   - The CloudWatch agent sends system-level metrics, such as memory and disk usage, which are not included in standard EC2 metrics.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/6766c99e-e307-4ee4-a26c-93266ed1e8a9)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/6347e96c-da18-441a-9b26-642fd51a3069)

2. **CloudWatch Alarms**:
   - Monitors metrics and initiates actions when thresholds are reached.
   - Two types: Metric Alarms (based on a single metric) and Composite Alarms (based on multiple alarms).
   - Alarm states include OK, Alarm, and Insufficient Data.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/fd2200dd-e337-4fe6-ba75-1c371e9b07ae)

3. **CloudWatch Logs**:
   - Centralized collection of system and application logs from AWS resources and on-premises systems.
   - Useful for operational visibility and insights.

4. **CloudWatch Events**:
   - Triggers actions based on system events describing changes to resources.
   - Largely replaced by Amazon EventBridge for event handling.

#### Key Use Cases and Benefits:
- Collects performance metrics and logs from AWS and on-premises systems.
- Automates responses to operational changes, such as auto-scaling EC2 instances based on CPU utilization.
- Improves resource optimization by providing actionable insights from logs and metrics.
- Helps in maintaining operational performance within acceptable parameters.

#### Custom Metrics and Alarms:
- Custom metrics can be published to CloudWatch using the CLI or API with standard (one minute) or high resolution (one second) granularity.
- Alarms can trigger automated actions, such as launching new EC2 instances when resource utilization exceeds a certain threshold.

By using CloudWatch, users can effectively monitor and manage their AWS resources, ensuring optimal performance and resource utilization.

==================================================================================
# 2.Metrics,Namespaces & Dimensions

### Summary: CloudWatch Metrics, Namespaces, and Dimensions

#### CloudWatch Metrics
- **Fundamental Concept**: Metrics represent time-ordered sets of data points sent from AWS resources or custom sources to CloudWatch.
- **Characteristics**:
  - Metrics exist within a region and can't be deleted, expiring automatically after 15 months.
  - Defined by a unique name, namespace, and zero or more dimensions.
  - Time stamps can be up to two weeks in the past or two hours in the future.
- **Retention**:
  - High-resolution custom metrics (period < 60 seconds): Available for 3 hours.
  - Metrics with a 60-second period: Available for 15 days.
  - Metrics with a 300-second period: Available for 63 days.
  - Metrics with a 3600-second period: Available for 455 days (15 months).
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/1b8a29e3-b3df-4857-8447-e2dc25b08af8)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/6964069c-d126-4dd9-a71a-4bcbed738968)

#### Namespaces
- **Definition**: A container for CloudWatch metrics specific to a service, isolating them from metrics in other namespaces.
- **Example**: Amazon API Gateway metrics are in the namespace `AWS/API Gateway`.
- **Custom Namespaces**: Users can create custom namespaces for their metrics.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/85bfa949-bc54-46b9-a546-33df76dfdaa8)

#### Dimensions
- **Definition**: Name-value pairs that define the identity of a metric.
- **Usage**: Up to 10 dimensions can be assigned to a metric.
- **Categories**: Metrics are categorized by dimensions, such as EC2 instance metrics by auto-scaling group or per instance.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/9b880510-466a-4c3a-b264-82b97080e7bf)

#### Statistics
- **Definition**: Metric data aggregations over specified periods.
- **Types**: Include minimum, maximum, sum, average, and sample count.
- **Purpose**: Provide insights into resource utilization.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/ff28af47-47e8-4a87-9e90-0d747519d6e1)

#### Useful API Actions
- **GetMetricData**: Retrieves metric data for up to 500 metrics in a single request.
- **PutMetricData**: Publishes metric data points to CloudWatch, creating metrics if they don't exist.
- **GetMetricStatistics**: Retrieves statistics for specified metrics, aggregating data points based on the specified period.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/22c0c502-7014-424d-9fa4-052cf4610a66)

By understanding metrics, namespaces, and dimensions, users can effectively utilize CloudWatch for detailed monitoring and management of their AWS resources.

======================================================================================
# 3.Create a Custom Metric and Alarm:Hands_ON
### Summary

This lesson focuses on working with Amazon CloudWatch to create a custom metric and an alarm based on that metric. Here's a breakdown of the key points covered:

1. **CloudWatch Console Overview**:
   - Explored various sections of the CloudWatch console including dashboards, alarms, logs, metrics, X-Ray traces, events, application monitoring, and insights.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/89374c83-c42a-45e9-8b00-d861d2b2f056)


2. **Metrics**:
   - Metrics are key components of CloudWatch.
   - Displayed existing metrics collected by CloudWatch based on resources running in the account.
   - Demonstrated how to filter and view specific EC2 instance metrics.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/bd6aa2e6-5b26-4520-bb44-f8d266be814c)

3. **Custom Metric Creation**:
   - Explained the creation of a custom metric using the `put-metric-data` API.
   - Introduced CloudWatch Agent for metric collection, to be covered in a later lesson.

4. **CloudWatch Features**:
   - Briefly mentioned Explorer for tag-based views and streams using Kinesis Data Firehose.
   - Covered the use of logs and their integration with applications like Nginx.
   - Events are now managed through Amazon EventBridge.

5. **Setting Up IAM Role and Policy**:
   - Created an IAM role and instance profile with a policy to allow the `put-metric-data` API.
   - Used AWS CloudShell to execute the necessary commands to create and attach policies and roles.

6. **Launching an EC2 Instance**:
   - Created a security group and launched an EC2 instance with the created role and security group.
   - Connected to the instance using EC2 Instance Connect to run further commands.

7. **Creating and Running a Custom Metric Script**:
   - Installed the `stress` utility on the EC2 instance.
   - Created a shell script to send custom metric data to CloudWatch.
   - Used `cron` to schedule the script to run every minute.

8. **Generating Load and Viewing Metrics**:
   - Generated CPU load using the `stress` utility to see custom metrics in CloudWatch.
   - Confirmed the custom metrics appeared in the CloudWatch console.

9. **Creating an Alarm**:
   - Created an alarm in CloudWatch for the custom metric.
   - Configured the alarm to send notifications via SNS (Simple Notification Service).
   - Waited for the alarm to trigger based on the defined threshold and received an email notification.

10. **Cleanup**:
   - Recommended terminating the EC2 instance and optionally cleaning up the created IAM role, policy, and security group.

This lesson provided hands-on experience with CloudWatch, including the creation and monitoring of custom metrics and setting up alarms using the AWS CLI and CloudShell.

=====================================================================================
# 4.The Unified CloudWatch Agent

### Summary

This lesson focuses on the unified Amazon CloudWatch agent, which collects detailed system-level metrics and logs from both EC2 instances and on-premises servers. Key points include:

1. **Capabilities of the CloudWatch Agent**:
   - Collects internal system-level metrics from EC2 and on-premises servers.
   - Supports various operating systems: Linux, Windows Server, and MacOS.
   - Retrieves custom metrics using protocols like StatsD and CollectD.
   - Collects logs from both EC2 instances and on-premises servers.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/0960af29-a977-473c-b6ff-e971b687720c)

2. **Installation Methods**:
   - Command line
   - AWS Systems Manager
   - CloudFormation
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/2adb7d3e-5611-4eab-8d9d-acd057b88014)

3. **Metrics Information**:
   - A detailed list of metrics collected by the agent is available on an AWS webpage, useful for understanding differences from standard EC2 metrics.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/6d88da26-3aa0-4d60-a245-747e96f966fc)

4. **Installation Process**:
   - **Create IAM Roles**: Enable metric collection and integrate with Systems Manager.
   - **Download Agent Package**: Ensure the agent package is downloaded and installed.
   - **Update Configuration File**: Define the metrics to be collected.
   - **Start the Agent**: Attach IAM role for EC2 instances or specify a named profile for on-premises servers.
   - **Optional Integration with Systems Manager**: Manage EC2 instances and perform installations through Systems Manager.

This lesson provides an overview of the CloudWatch agent's functionalities, installation methods, and the process for setting it up to collect and manage detailed metrics and logs.
-----
Amazon CloudWatch (Default Monitoring): Provides basic, essential metrics for monitoring EC2 instances at 5-minute intervals. Automatically enabled for all EC2 instances.
CloudWatch Agent: Extends the capabilities of CloudWatch by providing more detailed system-level metrics, custom metrics, and log collection. Requires installation and configuration.

Choosing between these options depends on your specific monitoring requirements. For basic use cases, the default CloudWatch metrics might be sufficient. For more detailed insights and 
custom monitoring needs, deploying the CloudWatch Agent is recommended.
============================================================================
# 5.Deploy CloudWatch Agent:Hands_ON

### Summary

This lesson demonstrates how to deploy the unified Amazon CloudWatch agent using AWS Systems Manager. Key steps include:

1. **Create an IAM Role**:
   - Create an IAM role with an EC2 trust policy.
   - Attach the `CloudWatchAgentServerPolicy` and `AmazonSSMManagedInstanceCore` managed policies to the role.
   - Name the role `CloudWatchAgentServerRole`.

2. **Launch an EC2 Instance**:
   - Use Amazon Linux 2 AMI and T2.micro instance type.
   - Allow SSH access.
   - Attach the IAM role `CloudWatchAgentServerRole` to the instance.

3. **Configure Systems Manager**:
   - Open AWS Systems Manager and run the quick setup if needed.
   - Create a host management configuration to install the CloudWatch agent.
   - Verify the installation and setup using the command history.

4. **Run Commands in Systems Manager**:
   - Use the `AWS-ConfigureAWSPackage` document to install the CloudWatch agent.
   - Specify the action as `install` and the name as `AmazonCloudWatchAgent`.
   - Select the EC2 instance manually and run the command.

5. **Install CollectD on the EC2 Instance**:
   - Connect to the EC2 instance using EC2 Instance Connect.
   - Install `collectd` on the instance.

6. **Run the CloudWatch Agent Wizard**:
   - Run the agent wizard on the EC2 instance to configure the agent.
   - Specify additional log file collection, using `/var/log/messages`.
   - Set preferences for various settings, mostly accepting default values.

7. **Start the CloudWatch Agent**:
   - Start the CloudWatch agent using the appropriate commands.
   - Verify the configuration and ensure the agent is running.

8. **Verify Metrics and Logs in CloudWatch**:
   - Check the CloudWatch console for new metrics under the `CWAgent` namespace.
   - Verify that logs are being sent to CloudWatch Logs and view the log streams.

The lesson provides a comprehensive walkthrough for deploying and configuring the CloudWatch agent, including IAM setup, EC2 instance preparation, Systems Manager configuration, and verification of metrics and logs in CloudWatch.

=====================================================================================
# 6.Amazon CloudWatch Logs

### Summary

This lesson covers Amazon CloudWatch Logs, focusing on its use to centralize application and system logs from various sources such as applications, system logs, AWS services, and on-premises systems with the CloudWatch agent installed. Key points include:

1. **Sources of Logs**:
   - Application logs
   - System logs
   - AWS services
   - On-premises systems (via CloudWatch agent)
   - AWS Lambda (requires appropriate permissions)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/081a524d-fc8d-489c-a0f2-aed5d1cd6abf)

2. **Capabilities and Features**:
   - Define expiration policies for logs.
   - Enable encryption using a KMS key.
   - Export logs to Amazon S3, Kinesis Data Streams, and Kinesis Data Firehose.
   - Send log data to Amazon Elasticsearch Service for real-time processing.
   - Use CloudWatch Logs Insights to interactively search and analyze log data.
   - Create alarms based on API activity captured by CloudTrail.
   - Set log retention periods from 1 day to 10 years (default is indefinite).
   - Log DNS queries received by Amazon Route 53.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/b6f5abe9-8458-4bf6-8cb4-30a6e7a6567b)

3. **Core Concepts**:
   - **Log Events**: Records of activity.
   - **Log Streams**: Sequences of log events from the same source.
   - **Log Groups**: Groups of log streams with shared settings.
   - **Metric Filters**: Extract metric observations from logs and transform them into CloudWatch metrics.
   - **Retention Settings**: Specify how long logs are kept in CloudWatch Logs.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/a10fbe0c-4a1e-4ae1-8a17-dd99c661ba0a)

CloudWatch Logs provides a powerful solution for collecting, monitoring, and analyzing log data, enabling better management of application and system logs across different environments.

======================================================================================
# 7.CloudWatch Logs & Filters
### Summary

This lesson covers using the CloudWatch agent and CloudWatch Logs to collect and analyze log data, as well as creating metric filters and alarms. Key steps and concepts include:

1. **Setup**:
   - Download and access the associated document and `config.json` file.
   - Install the CloudWatch agent and ensure `collectd` is installed on the EC2 instance.
   - Install and start an Apache web server, ensuring the security group allows HTTP access.

2. **Configuration**:
   - Delete the old `config.json` and replace it with a new configuration that collects logs from:
     - `/var/log/messages`
     - CloudWatch agent log file
     - Apache access log (`/var/log/httpd/access_log`)
   - Run commands to verify the CloudWatch agent and start it with the new configuration.

3. **Generating Logs**:
   - Generate traffic to the Apache web server, including 404 errors, by accessing both valid and invalid URLs.

4. **Viewing Logs**:
   - Check the CloudWatch Logs console to see the collected log data from the Apache server and other specified log files.

5. **Creating Metric Filters**:
   - Create a metric filter in CloudWatch to detect 404 errors in the log data.
   - Configure the filter with a pattern to match 404 status codes and test it to ensure it works.

6. **Creating Alarms**:
   - Create an alarm based on the metric filter to notify when 404 errors occur.
   - Set the alarm to trigger when the count of 404 errors is greater than zero.

7. **Cleanup**:
   - Terminate the EC2 instance and optionally clean up log files and metric filters in CloudWatch.

The lesson demonstrates how to manually configure the CloudWatch agent, generate and collect log data, and create metrics and alarms to monitor specific log events.
====================================================================================
# 8.CloudWatch Dashboards

### Summary

This lesson covers creating and customizing CloudWatch Dashboards to display specific metrics, using tags to filter instances, and adding widgets for comprehensive monitoring. Key steps include:

1. **Setting Up Instances**:
   - Launch two EC2 instances with a tag `department:operations`.
   - Add the same tag to an existing EC2 instance to generate data.

2. **Creating a Dashboard**:
   - Navigate to CloudWatch Dashboards and create a new dashboard named "OPS EC2".
   - Choose a display option (e.g., explorer) and use a provided template for EC2 instances by type.
   - Configure the dashboard to filter instances by the tag `department:operations`.

3. **Viewing Metrics**:
   - Ensure at least one instance is running to see immediate data; otherwise, wait for data collection.
   - Save the dashboard to monitor specific EC2 instances and their metrics.

4. **Adding Widgets**:
   - Add additional widgets, such as a logs table, to display log insights.
   - Use a CloudWatch Logs Insights query to display the most recent 25 log events from a specified log group.
   - Customize the date range if needed to capture recent data.

5. **Saving and Accessing the Dashboard**:
   - Save the dashboard to retain the customized view of metrics and logs.
   - Access the dashboard anytime for up-to-date information on specified instances and logs.

The lesson emphasizes the importance of tagging resources correctly for effective monitoring and customization of dashboards in CloudWatch.
============================================================================
# 9.Amazon SNS

### Summary

This lesson introduces Amazon Simple Notification Service (SNS), a service used for decoupling systems and sending notifications. Key points include:
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/67dcd5dc-e2bb-4abe-92d2-f4eb514ba851)

1. **Publisher-Subscriber Model**:
   - SNS uses a publisher-subscriber model where the publisher sends a message to a topic.
   - Subscribers subscribe to the topic and receive messages sent to it.

2. **Transport Protocols and Subscribers**:
   - SNS supports various transport protocols like HTTP, HTTPS, email, and SMS.
   - Subscribers can include AWS services (e.g., Lambda, SQS) and external applications (e.g., web applications, text services).

3. **Push-Based Messaging**:
   - SNS is push-based, meaning messages are pushed to subscribers, unlike SQS, which is pull-based.
   - It supports high-throughput, many-to-many messaging, allowing multiple publishers and subscribers.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/3ad94674-702d-47dc-ba94-e41d74e247be)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/979370a6-1cde-4717-98b4-1273eeea4cba)

4. **Topics and Subscribers**:
   - Topics are used to group recipients and allow multiple endpoints to receive the same notification.
   - A single topic can support deliveries to various endpoint types.

5. **SNS to SQS Fan Out**:
   - An architectural pattern where multiple SQS queues subscribe to an SNS topic.
   - Messages published to the topic are sent to all subscribed queues, enabling parallel processing by different functions or instances.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/0b493d1b-c23b-46e1-90dc-102b47322413)

SNS offers simple APIs for easy integration with AWS services and flexible message delivery through multiple transport protocols, making it a highly available, durable, and secure notification service.
====================================================================================
# 10.Configure Notification:Hands_ON

### Summary

In this hands-on lesson, we configure notifications using Amazon Simple Notification Service (SNS) and Simple Queue Service (SQS). Key steps include:

1. **Creating a Topic in SNS**:
   - Navigate to the SNS dashboard and create a new topic.
   - Choose between FIFO (first in, first out) and Standard queues. For this lesson, a Standard queue is used.
   - Configure optional settings like server-side encryption, access policies, and data protection.

2. **Creating an SQS Queue**:
   - Navigate to the SQS dashboard and create a new queue.
   - Choose between Standard and FIFO queues. Here, a Standard queue is created.
   - Default settings are kept, and the queue is named and created.

3. **Subscribing the SQS Queue to the SNS Topic**:
   - In the SQS dashboard, subscribe the newly created queue to the SNS topic.
   - Select the SNS topic and save the subscription.

4. **Publishing a Message to the SNS Topic**:
   - In the SNS dashboard, publish a test message to the topic.
   - The message is sent to the subscribed SQS queue.

5. **Receiving the Message in SQS**:
   - In the SQS dashboard, poll for messages in the queue.
   - The test message appears in the queue, showing the subject and message body.

6. **Cleanup**:
   - Optionally delete the SQS queue and SNS topic if they are no longer needed.

This lesson demonstrates how to set up SNS to send notifications to an SQS queue, illustrating the integration and message flow between these AWS services.

=======================================================================================
# 11.AWS CloudTrail

### Summary

In this lesson, you learn about AWS CloudTrail, an auditing service that logs API activity for auditing purposes. Key points include:

1. **Purpose of CloudTrail**:
   - **CloudTrail** logs who performed what actions on which resources and when.
   - It differs from **CloudWatch**, which is for performance monitoring.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/d3d47eb9-69da-4e54-812b-ff7c82ed128e)

2. **Logging and Retention**:
   - By default, management events are logged and retained for 90 days.
   - Creating a trail allows logs to be retained indefinitely in an S3 bucket.
   - Trails can be configured for specific regions or all regions in an account.

3. **Integration and Alerts**:
   - **CloudWatch Events** can be triggered based on API calls in CloudTrail.
   - Events can also be streamed to **CloudWatch Logs** for analysis.
   - Notifications and alarms can be configured to alert specific individuals or trigger **Lambda** functions.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/bee9cf61-abb7-43f3-81f8-4179e19f05ce)

4. **Event Types**:
   - **Management Events**: Log management operations on resources.
   - **Data Events**: Log resource operations within resources (e.g., S3 object operations, Lambda invocations, DynamoDB actions).
   - **Insights Events**: Identify and respond to unusual activity in write API calls by analyzing management events continuously.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/0769346b-0cb1-4d63-9487-d496b266698c)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/ba59f8d7-62c7-458e-85d5-c2f10bfd04fc)

5. **Examples of Events**:
   - **Data Events**: Include activities like getting, deleting, or putting S3 objects, invoking Lambda functions, and DynamoDB item operations. These can generate large volumes of data.
   - **Management Events**: Include activities like creating S3 buckets, managing IAM resources, registering devices, and configuring routing tables.

6. **Considerations**:
   - Logging data events can generate a significant amount of information, so it's essential to be prepared to process it efficiently.
   - Management events typically generate less data than data events. 

Overall, AWS CloudTrail provides comprehensive logging capabilities for auditing and monitoring API activities, integrating with other AWS services to enhance security and operational efficiency.
=================================================================================
# 12.Create a CloudTrail:Hands_ON

### Summary

In this lesson, you learn how to create a trail in AWS CloudTrail for logging and auditing API activity. Key steps and features include:

1. **Creating a Trail**:
   - Access the CloudTrail management console and choose "Create trail."
   - Name the trail, select options for management events, and choose or create an S3 bucket for log storage.
   - Optionally enable server-side encryption with a KMS key and log file validation to check for modifications.

2. **Configuration Options**:
   - Enable SNS notifications and CloudWatch logs for monitoring and alerts.
   - Select event types to log: management events (default), data events, and insights events.
   - Data events can generate large volumes of information, so manage accordingly.

3. **Reviewing Events**:
   - The event history in CloudTrail shows recent API activities for the last 90 days.
   - Events include actions in services like Amazon SQS, CloudShell, EC2, and Systems Manager.
   - Detailed information for each event includes the region, source IP address, username, event source, and access key used.

4. **Event Details**:
   - Examples include creating an SNS topic, updating instance information, deleting a queue, and terminating instances.
   - Detailed event records provide extensive information useful for various analyses and actions.

5. **Integration with Other Services**:
   - Use Lambda or Amazon EventBridge to process and act on specific events.
   - Send notifications or trigger other actions based on logged events.

6. **Storage and Access**:
   - CloudTrail logs are stored in an S3 bucket.
   - Logs are organized in folders by account number and trail type.
   - Monitor the bucket for uploaded logs, which can be downloaded and reviewed using tools like spreadsheets.

This lesson covers the setup and configuration of a CloudTrail trail, emphasizing how to log, review, and act on API activity for auditing and monitoring purposes.
===================================================================================
# 13.Amazon EventBridge

### Summary

In this lesson, you learn about Amazon EventBridge, formerly known as CloudWatch Events. EventBridge facilitates event-driven architectures by managing and responding to events from various sources. Key points include:

1. **EventBridge Overview**:
   - **Event Sources**: AWS services, custom applications, and SaaS applications generate events.
   - **Event Bus**: Transmits events to EventBridge.
   - **Rules**: Define actions based on event patterns, directing events to targets.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/d59c2716-9691-4618-a1f5-b446aca86514)

2. **Example Scenario**:
   - **Event Source**: An EC2 instance termination.
   - **Event Bus**: Receives termination event.
   - **Rule**: Configured to send notifications via SNS.
   - **Outcome**: Notifies a manager of the instance termination.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/257e6964-289d-47ff-be3a-b5eecdcdb4f3)

3. **EventBridge Configuration**:
   - **Specifying Event Sources**: Select AWS services and event types (e.g., EC2 instance state change).
   - **Event Patterns**: Automatically generated based on configurations, can be manually edited.
   - **Event Data**: Includes details such as region, timestamp, source, and specific instance ID.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/1dbd6dbd-9f04-4b5f-8404-d78b30d17578)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/48c5fc59-a900-438e-a541-3661c808592f)

4. **Advanced Example**:
   - **Event Source**: CloudTrail.
   - **Event**: S3 PutBucketPolicy API call.
   - **Event Data**: Contains details like source, event name, and associated resources.
   - **Rule**: Can trigger actions like sending email notifications based on API activity.

EventBridge allows flexible and detailed configurations for automating responses to various events across AWS services, enhancing monitoring, and enabling complex event-driven workflows.
====================================================================================
# 14.Create Event Bus & Rule:Hands_ON
In this lesson, the goal is to set up an event bus and a rule using Amazon EventBridge to detect when an EC2 instance is stopped. The detected event will then trigger an AWS Lambda function, which logs the event to CloudWatch Logs. Here’s a summary of the steps involved:

1. **Setup EC2 Instance**: 
   - Use the provided command to launch an EC2 instance in the US East 1 availability zone via CloudShell.

2. **Create a Lambda Function**:
   - Open the Lambda console and create a new function using Node.js 16.
   - Name the function `logEC2StopInstance`.
   - Assign the default execution role to allow access to CloudWatch Logs.
   - Replace the default code with the provided `eventbridge-lambda-function.js` code and deploy it.

3. **Create EventBridge Rule**:
   - Open the EventBridge console and create a new rule named `logEC2StopInstancesRule`.
   - Use the default event bus and select an event pattern.
   - Configure the event pattern to detect `AWS API Call via CloudTrail` for the `StopInstances` action in EC2.
   - Link this rule to the previously created Lambda function.

4. **Testing**:
   - Stop the EC2 instance using the command with the instance ID.
   - Check CloudWatch Logs to verify that the event was logged by the Lambda function, showing details such as the IAM user, account ID, access keys, and timestamps.

5. **Cleanup**:
   - Remove the EventBridge rule if it’s no longer needed.
   - Terminate the EC2 instance to avoid unnecessary charges.

The lesson demonstrates the integration of EventBridge, Lambda, and CloudWatch Logs to monitor and respond to specific AWS API actions.
=====================================================================================
# 15.AWS Config
The AWS Config service allows users to view and manage the configuration of AWS resources, often used for compliance purposes. Key benefits include:

- **Evaluation Against Desired Settings**: Ensures resource configurations match desired settings.
- **Snapshots and Historical Configurations**: Provides current and historical configurations of resources, enabling comparison against desired configurations.
- **Notifications**: Alerts when resources are created, modified, or deleted.
- **Resource Relationships**: Displays relationships between resources in the account.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/5d1c616e-d239-45eb-a50c-e3b6cd77d006)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/690dddbb-271e-459b-a9b5-7126da160b85)

Key features include:
- **Configuration Recording**: Resource configurations are sent to AWS Config and recorded in Amazon S3.
- **Notifications and Alerts**: Can trigger SNS topics for notifications, CloudWatch events for alerts, and potentially initiate Lambda functions.
- **Automated Remediation**: Systems Manager Automation can fix non-compliant configurations based on defined standards.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/fdc0a733-d11c-4e8f-9b1c-5868f6d1a963)

Example AWS managed rules in AWS Config:
1. **S3 Bucket Server-Side Encryption Enabled**: Ensures buckets have encryption enabled and can alert or auto-remediate if not.
2. **Restricted SSH**: Checks that security groups are not open to SSH connections from the internet.
3. **RDS Instance Public Access Check**: Notifies if any RDS instances are publicly accessible.
4. **CloudTrail Enabled**: Verifies if CloudTrail is enabled for auditing API actions.

These features and rules help maintain compliance and proper configuration management of AWS resources.
======================================================================================
# 16.AWS System Manager
In this lesson, you learn about AWS Systems Manager, a comprehensive tool for managing AWS, on-premises, and multi-cloud resources. Here's a summary of the key points:

### Overview:
- **Systems Manager**: An operations hub for operations, application, change, and node management.
- **Resource Management**: Manages EC2 instances, on-premises servers, and VMs from other cloud providers via the SSM agent.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/d8ebda65-1f1a-42f4-ac0c-f18f8417b2f3)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/5f5b0906-0626-4e64-9445-6cea2890788c)

### Core Components:
1. **Automation**: Uses YAML or JSON documents to define actions like creating RDS snapshots, automating IT tasks.
2. **Run Command**: Executes commands on managed instances via defined documents, e.g., installing Windows updates.
3. **Inventory**: Collects and reports information on managed systems, including OS and installed applications.
4. **Patch Manager**: Manages OS and software patches across large groups of instances with auto-approve rules and maintenance windows.
5. **Compliance**: Scans for patch compliance and configuration inconsistencies, aggregates data, and allows custom compliance types.
6. **Session Manager**: Provides secure remote management, replacing SSH and bastion hosts, logging all commands, and requiring IAM permissions.
7. **Parameter Store**: Stores configuration data and secrets securely, with hierarchical structure, but does not auto-rotate keys unlike AWS Secrets Manager.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/c3a533e5-7c05-4bc3-9334-3068740e3ac4)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/e56224a4-8a9c-483f-a5ed-219924cfdca9)

### Features and Benefits:
- **Automation Documents**: Defines tasks and actions in YAML or JSON.
- **Run Command Documents**: Executes specific commands on instances.
- **Inventory Management**: Gathers detailed system information.
- **Patch Management**: Keeps software up to date and compliant with security policies.
- **Compliance Monitoring**: Ensures configurations meet standards.
- **Secure Remote Access**: Enhances security over traditional methods.
- **Parameter Storage**: Safely stores sensitive information with hierarchical access.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/bcac0886-1129-4aae-9046-ca36ca9ac90d)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/d71cac61-c99d-45f5-8c2f-891860deb158)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/8727e28c-fc74-4294-97a0-bfe45a991368)

### Key Considerations:
- **Agent Installation**: SSM agent required on managed instances.
- **Hybrid Activation**: Necessary for managing on-premises and hybrid environments.
- **IAM Permissions**: Essential for accessing and managing resources via Systems Manager.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/8145c9a9-6689-4619-bfe7-48acc8bc8fcc)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/ab94031f-f861-49cf-8fd8-e493b10e7d1d)

### Example Uses:
- **Automation**: Automate RDS snapshot creation.
- **Run Command**: Install missing Windows updates.
- **Patch Manager**: Apply OS patches during maintenance windows.
- **Session Manager**: Secure remote access without open ports.
- **Parameter Store**: Store and retrieve passwords for RDS connections.

### Exam Tip:
- Look for scenarios requiring secure command-line access without SSH, indicating the use of Session Manager.

Overall, AWS Systems Manager offers extensive capabilities for managing diverse IT environments, ensuring security, compliance, and operational efficiency.
=======================================================================================
# 17.SSM Automation & Config Rule
In this lesson, you'll learn how to use AWS Systems Manager and AWS Config for automatic remediation of security group rules.

**Key Steps:**

1. **Create AWS Config Rule with Remediation Action**:
   - **Objective**: Identify and remediate security group rules allowing all-zero (0.0.0.0/0) source addresses, except for port 80.
   - **Impact**: Removes non-compliant rules, including port 22 (SSH) access from any source.

2. **Set Up Role for Systems Manager**:
   - **Create Role**: In IAM, create a role for Systems Manager with the policy `AmazonSSMAutomationRole`.
   - **Add Permissions**: Add an inline policy to allow EC2 to revoke security group ingress permissions.

3. **Create Config Rule**:
   - **Select Managed Rule**: Choose `pc-sg-open` to check for open security group rules.
   - **Configure Rule**: Set authorized TCP ports to 80 to allow web traffic.

4. **Add Remediation Action**:
   - **Define Action**: Use `AWS-DisablePublicAccessForSecurityGroup` to disable non-compliant ports.
   - **Set Parameters**: Specify the resource ID parameter as the group ID and address block as 0.0.0.0/0.
   - **Assign Role**: Use the ARN of the created role for automation assume role.

5. **Evaluate and Remediate**:
   - **Run Evaluation**: Trigger re-evaluation to identify non-compliant security groups.
   - **Run Remediation**: Manually run remediation for identified security groups.

6. **Post-Lab Actions**:
   - **Stop Remediation**: Delete the remediation action if you don't want automatic remediation.
   - **Clean Up**: Optionally delete the entire Config rule.

By following these steps, you can automate the management and remediation of security group rules in your AWS environment, enhancing security and compliance.
===================================================================================
# 18.AWS Health API & DashBoards
In this lesson, the focus is on the Health API and two types of AWS dashboards: the Personal Health Dashboard and the Service Health Dashboard.

**Health API**:
- Provides health-related information about your AWS resources.
- Information is accessible via the Personal Health Dashboard.

**Personal Health Dashboard**:
- Offers personalized alerts and remediation guidance when AWS events impact your resources.
- Provides a personalized view into the performance and availability of AWS services affecting you.
- Notifies you of AWS system failures and planned maintenance that could impact your resources.
- Offers proactive notifications for scheduled activities to help with planning.
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/4720bfe3-ffbc-4785-bf3e-fe3d209094e0)
![image](https://github.com/Mohanakri/AWS_SOA-Admin/assets/96922237/72d94f82-299b-4e3d-968c-d523b962faf3)

**Service Health Dashboard**:
- Displays general information about the status and availability of AWS services.
- The information is not personalized; it’s general status data for anyone to view.
- Does not provide proactive notifications or personalized insights.
- Requires you to determine if the reported issues affect your resources.

**Key Differences**:
- **Personal Health Dashboard**: Personalized, proactive notifications, tailored to your resources and their potential impact.
- **Service Health Dashboard**: General AWS service status, no personalized data, and no proactive notifications.

  
